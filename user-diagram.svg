<svg xmlns="http://www.w3.org/2000/svg" width="1500" height="850" viewBox="0 0 1500 850">
  <defs>
    <linearGradient id="bg" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#f8fafc" />
      <stop offset="100%" stop-color="#e0f2fe" />
    </linearGradient>
    <marker id="arrow" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L12,6 L0,12 Z" fill="#0f172a" />
    </marker>
  </defs>
  <rect width="100%" height="100%" fill="url(#bg)" />

  <!-- Title -->
  <text x="750" y="60" font-family="Arial, sans-serif" font-size="26" font-weight="700" text-anchor="middle" fill="#0f172a">User Interaction Diagram</text>
  <text x="750" y="88" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#334155">Roles: Driver, Provider, Admin â€” flows to Laravel API via Next.js frontend</text>

  <!-- Entities -->
  <g>
    <rect x="120" y="180" width="240" height="140" rx="16" ry="16" fill="#e0f2fe" stroke="#0ea5e9" stroke-width="2" />
    <text x="240" y="230" font-family="Arial, sans-serif" font-size="18" font-weight="700" text-anchor="middle" fill="#0f172a">Driver</text>
    <text x="240" y="254" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#1f2937">Search, book, cancel, check-in/out</text>
  </g>

  <g>
    <rect x="120" y="400" width="240" height="140" rx="16" ry="16" fill="#ecfdf3" stroke="#16a34a" stroke-width="2" />
    <text x="240" y="450" font-family="Arial, sans-serif" font-size="18" font-weight="700" text-anchor="middle" fill="#0f172a">Provider</text>
    <text x="240" y="474" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#1f2937">Spaces, availability, bookings, income</text>
  </g>

  <g>
    <rect x="120" y="620" width="240" height="140" rx="16" ry="16" fill="#fef2f2" stroke="#dc2626" stroke-width="2" />
    <text x="240" y="670" font-family="Arial, sans-serif" font-size="18" font-weight="700" text-anchor="middle" fill="#0f172a">Admin</text>
    <text x="240" y="694" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#1f2937">Oversight, approvals, reporting</text>
  </g>

  <!-- Frontend -->
  <g>
    <rect x="520" y="140" width="320" height="640" rx="18" ry="18" fill="#fff7ed" stroke="#f97316" stroke-width="2.2" />
    <text x="680" y="180" font-family="Arial, sans-serif" font-size="18" font-weight="700" text-anchor="middle" fill="#0f172a">Frontend (Next.js)</text>
    <text x="680" y="204" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#475569">UI, auth, forms, maps, fetch</text>

    <rect x="560" y="230" width="240" height="90" rx="12" ry="12" fill="#e0f2fe" stroke="#0ea5e9" stroke-width="1.6" />
    <text x="680" y="260" font-family="Arial, sans-serif" font-size="14" font-weight="700" text-anchor="middle" fill="#0f172a">Search & Geocode</text>
    <text x="680" y="282" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#1f2937">/geocode, /search, live map picker</text>

    <rect x="560" y="340" width="240" height="90" rx="12" ry="12" fill="#ecfdf3" stroke="#16a34a" stroke-width="1.6" />
    <text x="680" y="370" font-family="Arial, sans-serif" font-size="14" font-weight="700" text-anchor="middle" fill="#0f172a">Spaces & Availability</text>
    <text x="680" y="392" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#1f2937">CRUD, map picker, GPS select</text>

    <rect x="560" y="450" width="240" height="90" rx="12" ry="12" fill="#fffbeb" stroke="#f59e0b" stroke-width="1.6" />
    <text x="680" y="480" font-family="Arial, sans-serif" font-size="14" font-weight="700" text-anchor="middle" fill="#0f172a">Bookings</text>
    <text x="680" y="502" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#1f2937">create, confirm, check-in/out, cancel</text>

    <rect x="560" y="560" width="240" height="90" rx="12" ry="12" fill="#e0f2fe" stroke="#0ea5e9" stroke-width="1.6" />
    <text x="680" y="590" font-family="Arial, sans-serif" font-size="14" font-weight="700" text-anchor="middle" fill="#0f172a">Auth</text>
    <text x="680" y="612" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#1f2937">login/register (phone+password)</text>

    <rect x="560" y="670" width="240" height="90" rx="12" ry="12" fill="#f3e8ff" stroke="#7c3aed" stroke-width="1.6" />
    <text x="680" y="700" font-family="Arial, sans-serif" font-size="14" font-weight="700" text-anchor="middle" fill="#0f172a">Reports</text>
    <text x="680" y="722" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#1f2937">provider income snapshot</text>
  </g>

  <!-- Backend -->
  <g>
    <rect x="980" y="220" width="340" height="360" rx="18" ry="18" fill="#f8fafc" stroke="#0f172a" stroke-width="2.2" />
    <text x="1150" y="250" font-family="Arial, sans-serif" font-size="18" font-weight="700" text-anchor="middle" fill="#0f172a">Backend (Laravel API)</text>
    <text x="1150" y="274" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#475569">JWT auth, business logic, DB</text>

    <text x="1000" y="310" font-family="Arial, sans-serif" font-size="12" fill="#0f172a">Endpoints:</text>
    <text x="1000" y="330" font-family="Arial, sans-serif" font-size="12" fill="#1f2937">/auth/login, /auth/register, /auth/refresh</text>
    <text x="1000" y="350" font-family="Arial, sans-serif" font-size="12" fill="#1f2937">/spaces (CRUD), /spaces/{id}/availability</text>
    <text x="1000" y="370" font-family="Arial, sans-serif" font-size="12" fill="#1f2937">/search, /search/nearby, /geocode</text>
    <text x="1000" y="390" font-family="Arial, sans-serif" font-size="12" fill="#1f2937">/bookings (create, cancel, confirm, check-in/out)</text>
    <text x="1000" y="410" font-family="Arial, sans-serif" font-size="12" fill="#1f2937">/reports/provider/monthly</text>

    <text x="1000" y="450" font-family="Arial, sans-serif" font-size="12" fill="#0f172a">Data:</text>
    <text x="1000" y="470" font-family="Arial, sans-serif" font-size="12" fill="#1f2937">users, parking_spaces, space_availability, bookings</text>
  </g>

  <!-- Arrows -->
  <line x1="360" y1="250" x2="520" y2="270" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <text x="420" y="238" font-family="Arial, sans-serif" font-size="12" fill="#0f172a">Search & book</text>

  <line x1="360" y1="470" x2="520" y2="380" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <text x="420" y="448" font-family="Arial, sans-serif" font-size="12" fill="#0f172a">Spaces & slots</text>

  <line x1="360" y1="690" x2="520" y2="600" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <text x="420" y="668" font-family="Arial, sans-serif" font-size="12" fill="#0f172a">Admin actions</text>

  <line x1="840" y1="270" x2="980" y2="300" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <text x="910" y="258" font-family="Arial, sans-serif" font-size="12" fill="#0f172a">API calls</text>

  <line x1="840" y1="380" x2="980" y2="340" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="840" y1="490" x2="980" y2="380" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="840" y1="600" x2="980" y2="420" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="840" y1="710" x2="980" y2="500" stroke="#0f172a" stroke-width="2" marker-end="url(#arrow)" />

  <text x="910" y="610" font-family="Arial, sans-serif" font-size="12" fill="#0f172a">JWT auth + REST</text>

  <!-- Legend -->
  <g>
    <rect x="1040" y="610" width="260" height="140" rx="12" ry="12" fill="#f8fafc" stroke="#0f172a" stroke-width="1.4" />
    <text x="1060" y="636" font-family="Arial, sans-serif" font-size="12" fill="#111827">Legend</text>
    <text x="1060" y="656" font-family="Arial, sans-serif" font-size="12" fill="#111827">Blue: Driver</text>
    <text x="1060" y="674" font-family="Arial, sans-serif" font-size="12" fill="#111827">Green: Provider/space ops</text>
    <text x="1060" y="692" font-family="Arial, sans-serif" font-size="12" fill="#111827">Orange: Frontend modules</text>
    <text x="1060" y="710" font-family="Arial, sans-serif" font-size="12" fill="#111827">Gray: API backend</text>
    <text x="1060" y="728" font-family="Arial, sans-serif" font-size="12" fill="#111827">Purple: Reports widget</text>
  </g>
</svg>
